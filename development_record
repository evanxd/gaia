
2014/07/01
As Ricky's hint, I created setup.js for gaia's custom require fucntion(require, requireApp, ...etc).

Those custome require functions were defined in following available path:
1. ~/gaia/dev_apps/test-agent/common/test/helper.js 
	=> defines requireApp, requireElement, requireCommon
2. ~/gaia/dev_apps/test-agent/common/vendor/test-agent/test-agent.js 
	=> only defines require function like https://github.com/mozilla-b2g/js-test-agent/blob/master/lib/test-agent/loader.js

After setting up setup.js and using "karma init" to set up karma.conf.js loading setup.js and some specific unit test files, I got back to the folder which karma.conf.js is located and use command "karma start karma.conf.js" to launch the test.

=============================================
2014/07/03
The first attachment is the "setup.js" I've made.
I implemented 'require' function by moving and modifying code from Ricky's reference[1]. I also replaced the function '_require' with Julien's remind[2].

Finally, I implement 'requireApp' function, but I faced a problem that said TestUrlResolver is not defined. I don't know whether I should implement it in setup.js as well or I should have brand new implementation of requireApp.

[1]https://github.com/mozilla-b2g/js-test-agent/blob/master/lib/test-agent/loader.js
[2]https://bugzilla.mozilla.org/show_bug.cgi?id=943163

=============================================
2014/07/04
I defined TestUrlResolver in the window as reference [1], and got it run the test.
It seems it correctly work with this function, but still has a check error:

Firefox 27.0.0 (Mac OS X 10.9) ERROR
  Error: you must run tests using real domains on localhost
    at /Users/veck/setup.js:242

This error defined in TestUrlResolver.

